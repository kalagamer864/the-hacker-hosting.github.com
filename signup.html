
<!doctype html>
<html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Signup â€” The Hacker Hosting</title>
<style>body{font-family:Arial;background:#07070a;color:#eee;padding:20px}.card{max-width:420px;margin:30px auto;padding:20px;background:rgba(255,255,255,0.02);border-radius:10px}</style>
</head><body>
<div class="card">
  <h2>Create account</h2>
  <form id="form">
    <label>Username<br><input id="username" required></label><br><br>
    <label>Email<br><input id="email" type="email" required></label><br><br>
    <label>Password<br><input id="password" type="password" required></label><br><br>
    <button type="submit">Sign up</button>
  </form>
  <p>Already have an account? <a href="/login.html">Login</a></p>
  <div id="msg" style="color:#f66"></div>
</div>
<script>
  const params = new URLSearchParams(location.search);
  const preplan = params.get('plan');
  document.getElementById('form').onsubmit = async (e) => {
    e.preventDefault();
    const username = document.getElementById('username').value;
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;
    const res = await fetch('/api/signup', {method:'POST', headers:{'content-type':'application/json'}, body: JSON.stringify({username,email,password})});
    const j = await res.json();
    if (res.ok) {
      localStorage.setItem('token', j.token);
      alert('Signed up! Redirecting to dashboard...');
      location.href = '/dashboard.html' + (preplan ? '?plan='+encodeURIComponent(preplan) : '');
    } else {
      document.getElementById('msg').innerText = j.error || 'Signup failed';
    }
  };
</script>
</body></html>
